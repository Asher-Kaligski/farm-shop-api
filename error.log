{"message":"Cannot set headers after they are sent to the client","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at ServerResponse.setHeader (_http_outgoing.js:526:11)\n    at ServerResponse.header (C:\\Users\\Admin\\Desktop\\front-development\\farm-shop-api\\node_modules\\express\\lib\\response.js:771:10)\n    at ServerResponse.send (C:\\Users\\Admin\\Desktop\\front-development\\farm-shop-api\\node_modules\\express\\lib\\response.js:170:12)\n    at module.exports (C:\\Users\\Admin\\Desktop\\front-development\\farm-shop-api\\middleware\\auth.js:13:21)\n    at newFn (C:\\Users\\Admin\\Desktop\\front-development\\farm-shop-api\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Users\\Admin\\Desktop\\front-development\\farm-shop-api\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\Admin\\Desktop\\front-development\\farm-shop-api\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at Route.dispatch (C:\\Users\\Admin\\Desktop\\front-development\\farm-shop-api\\node_modules\\express\\lib\\router\\route.js:112:3)\n    at newFn (C:\\Users\\Admin\\Desktop\\front-development\\farm-shop-api\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Users\\Admin\\Desktop\\front-development\\farm-shop-api\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\Admin\\Desktop\\front-development\\farm-shop-api\\node_modules\\express\\lib\\router\\index.js:281:22\n    at Function.process_params (C:\\Users\\Admin\\Desktop\\front-development\\farm-shop-api\\node_modules\\express\\lib\\router\\index.js:335:12)\n    at next (C:\\Users\\Admin\\Desktop\\front-development\\farm-shop-api\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (C:\\Users\\Admin\\Desktop\\front-development\\farm-shop-api\\node_modules\\express\\lib\\router\\index.js:174:3)\n    at router (C:\\Users\\Admin\\Desktop\\front-development\\farm-shop-api\\node_modules\\express\\lib\\router\\index.js:47:12)\n    at newFn (C:\\Users\\Admin\\Desktop\\front-development\\farm-shop-api\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Users\\Admin\\Desktop\\front-development\\farm-shop-api\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (C:\\Users\\Admin\\Desktop\\front-development\\farm-shop-api\\node_modules\\express\\lib\\router\\index.js:317:13)\n    at C:\\Users\\Admin\\Desktop\\front-development\\farm-shop-api\\node_modules\\express\\lib\\router\\index.js:284:7\n    at Function.process_params (C:\\Users\\Admin\\Desktop\\front-development\\farm-shop-api\\node_modules\\express\\lib\\router\\index.js:335:12)\n    at next (C:\\Users\\Admin\\Desktop\\front-development\\farm-shop-api\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at jsonParser (C:\\Users\\Admin\\Desktop\\front-development\\farm-shop-api\\node_modules\\body-parser\\lib\\types\\json.js:110:7)","code":"ERR_HTTP_HEADERS_SENT","level":"error","timestamp":"2020-05-24T05:17:31.331Z"}
{"message":"Joi is not a function","stack":"TypeError: Joi is not a function\n    at validateUser (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/models/user.js:114:12)\n    at /home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/routes/users.js:26:27\n    at newFn (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/express/lib/router/route.js:137:13)\n    at module.exports (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/middleware/auth.js:11:5)\n    at newFn (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/express/lib/router/layer.js:95:5)\n    at /home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/express/lib/router/index.js:281:22\n    at param (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/express/lib/router/index.js:354:14)\n    at param (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/express/lib/router/index.js:365:14)\n    at Function.process_params (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/express/lib/router/index.js:410:3)\n    at next (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/express/lib/router/index.js:317:13)","level":"error","timestamp":"2020-05-24T16:52:16.562Z"}
{"message":"Unexpected string in JSON at position 43","stack":"SyntaxError: Unexpected string in JSON at position 43\n    at JSON.parse (<anonymous>)\n    at parse (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/body-parser/lib/types/json.js:89:19)\n    at /home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/body-parser/lib/read.js:121:18\n    at invokeCallback (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/raw-body/index.js:224:16)\n    at done (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/raw-body/index.js:273:7)\n    at IncomingMessage.emit (events.js:322:22)\n    at endReadableNT (_stream_readable.js:1187:12)\n    at processTicksAndRejections (internal/process/task_queues.js:84:21)","expose":true,"statusCode":400,"status":400,"body":"{\n\t\"email\": \"fullstack.number1@gmail.com\"\n\t\"password\": \"rimon2803\"\n}","type":"entity.parse.failed","level":"error","timestamp":"2020-05-24T16:56:11.001Z"}
{"message":"Cannot set headers after they are sent to the client","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at ServerResponse.setHeader (_http_outgoing.js:526:11)\n    at ServerResponse.header (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/express/lib/response.js:771:10)\n    at ServerResponse.send (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/express/lib/response.js:170:12)\n    at module.exports (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/middleware/auth.js:13:21)\n    at newFn (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/express/lib/router/layer.js:95:5)\n    at /home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/express/lib/router/index.js:317:13)\n    at /home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/express/lib/router/index.js:275:10)\n    at /home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/body-parser/lib/read.js:130:5","code":"ERR_HTTP_HEADERS_SENT","level":"error","timestamp":"2020-05-24T18:04:24.358Z"}
{"message":"Cannot set headers after they are sent to the client","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at ServerResponse.setHeader (_http_outgoing.js:526:11)\n    at ServerResponse.header (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/express/lib/response.js:771:10)\n    at ServerResponse.send (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/express/lib/response.js:170:12)\n    at module.exports (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/middleware/auth.js:13:21)\n    at newFn (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/express/lib/router/layer.js:95:5)\n    at /home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/express/lib/router/index.js:317:13)\n    at /home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/express/lib/router/index.js:275:10)\n    at jsonParser (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/body-parser/lib/types/json.js:110:7)","code":"ERR_HTTP_HEADERS_SENT","level":"error","timestamp":"2020-05-24T18:33:39.559Z"}
{"message":"Cannot set headers after they are sent to the client","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at ServerResponse.setHeader (_http_outgoing.js:526:11)\n    at ServerResponse.header (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/express/lib/response.js:771:10)\n    at ServerResponse.send (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/express/lib/response.js:170:12)\n    at module.exports (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/middleware/auth.js:13:21)\n    at newFn (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/express/lib/router/layer.js:95:5)\n    at /home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/express/lib/router/index.js:317:13)\n    at /home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/express/lib/router/index.js:275:10)\n    at jsonParser (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/body-parser/lib/types/json.js:110:7)","code":"ERR_HTTP_HEADERS_SENT","level":"error","timestamp":"2020-05-24T18:47:44.354Z"}
{"message":"Cannot set headers after they are sent to the client","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at ServerResponse.setHeader (_http_outgoing.js:526:11)\n    at ServerResponse.header (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/express/lib/response.js:771:10)\n    at ServerResponse.send (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/express/lib/response.js:170:12)\n    at module.exports (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/middleware/auth.js:13:21)\n    at newFn (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/express/lib/router/layer.js:95:5)\n    at /home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/express/lib/router/index.js:317:13)\n    at /home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/express/lib/router/index.js:275:10)\n    at jsonParser (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/body-parser/lib/types/json.js:119:7)","code":"ERR_HTTP_HEADERS_SENT","level":"error","timestamp":"2020-05-24T18:49:28.453Z"}
{"message":"Cannot set headers after they are sent to the client","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at ServerResponse.setHeader (_http_outgoing.js:526:11)\n    at ServerResponse.header (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/express/lib/response.js:771:10)\n    at ServerResponse.send (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/express/lib/response.js:170:12)\n    at /home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/routes/shopping-carts.js:45:37\n    at processTicksAndRejections (internal/process/task_queues.js:97:5)","code":"ERR_HTTP_HEADERS_SENT","level":"error","timestamp":"2020-05-24T18:52:42.924Z"}
{"message":"Cannot set headers after they are sent to the client","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at ServerResponse.setHeader (_http_outgoing.js:526:11)\n    at ServerResponse.header (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/express/lib/response.js:771:10)\n    at ServerResponse.send (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/express/lib/response.js:170:12)\n    at /home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/routes/shopping-carts.js:45:37\n    at processTicksAndRejections (internal/process/task_queues.js:97:5)","code":"ERR_HTTP_HEADERS_SENT","level":"error","timestamp":"2020-05-24T18:55:19.282Z"}
{"message":"Unexpected token : in JSON at position 28","stack":"SyntaxError: Unexpected token : in JSON at position 28\n    at JSON.parse (<anonymous>)\n    at parse (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/body-parser/lib/types/json.js:89:19)\n    at /home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/body-parser/lib/read.js:121:18\n    at invokeCallback (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/raw-body/index.js:224:16)\n    at done (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/raw-body/index.js:273:7)\n    at IncomingMessage.emit (events.js:322:22)\n    at endReadableNT (_stream_readable.js:1187:12)\n    at processTicksAndRejections (internal/process/task_queues.js:84:21)","expose":true,"statusCode":400,"status":400,"body":"{\n\t\"items\": [\n\t\t\"productId\" : \"\"\n\t\t],\n\t\"userId\": \"5eca9fc7c4d8800ef7ea6923\"\n}","type":"entity.parse.failed","level":"error","timestamp":"2020-05-24T19:02:41.321Z"}
{"message":"Unexpected token : in JSON at position 28","stack":"SyntaxError: Unexpected token : in JSON at position 28\n    at JSON.parse (<anonymous>)\n    at parse (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/body-parser/lib/types/json.js:89:19)\n    at /home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/body-parser/lib/read.js:121:18\n    at invokeCallback (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/raw-body/index.js:224:16)\n    at done (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/raw-body/index.js:273:7)\n    at IncomingMessage.emit (events.js:322:22)\n    at endReadableNT (_stream_readable.js:1187:12)\n    at processTicksAndRejections (internal/process/task_queues.js:84:21)","expose":true,"statusCode":400,"status":400,"body":"{\n\t\"items\": [\n\t\t\"productId\" : \"7657657657\"\n\t\t],\n\t\"userId\": \"5eca9fc7c4d8800ef7ea6923\"\n}","type":"entity.parse.failed","level":"error","timestamp":"2020-05-24T19:03:42.054Z"}
{"message":"Cast to ObjectId failed for value \"\" at path \"_id\" for model \"Product\"","stack":"CastError: Cast to ObjectId failed for value \"\" at path \"_id\" for model \"Product\"\n    at new CastError (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/mongoose/lib/error/cast.js:29:11)\n    at model.Query.exec (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/mongoose/lib/query.js:4341:21)\n    at /home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/routes/shopping-carts.js:63:69\n    at processTicksAndRejections (internal/process/task_queues.js:97:5)","name":"CastError","stringValue":"\"\"","kind":"ObjectId","value":"","path":"_id","reason":{},"level":"error","timestamp":"2020-05-24T19:05:30.509Z"}
{"message":"Cast to ObjectId failed for value \"546546\" at path \"_id\" for model \"Product\"","stack":"CastError: Cast to ObjectId failed for value \"546546\" at path \"_id\" for model \"Product\"\n    at new CastError (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/mongoose/lib/error/cast.js:29:11)\n    at model.Query.exec (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/mongoose/lib/query.js:4341:21)\n    at /home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/routes/shopping-carts.js:63:69\n    at processTicksAndRejections (internal/process/task_queues.js:97:5)","name":"CastError","stringValue":"\"546546\"","kind":"ObjectId","value":"546546","path":"_id","reason":{},"level":"error","timestamp":"2020-05-24T19:05:39.187Z"}
{"message":"Shopping-Cart validation failed: items.0.itemTotalPrice: Cast to Number failed for value \"NaN\" at path \"itemTotalPrice\", totalPrice: Cast to Number failed for value \"NaN\" at path \"totalPrice\", items.0.quantity: Path `quantity` is required.","errors":{"items.0.itemTotalPrice":{"stringValue":"\"NaN\"","kind":"Number","value":"NaN","path":"itemTotalPrice","reason":{"generatedMessage":true,"code":"ERR_ASSERTION","actual":false,"expected":true,"operator":"=="},"message":"Cast to Number failed for value \"NaN\" at path \"itemTotalPrice\"","name":"CastError"},"totalPrice":{"stringValue":"\"NaN\"","kind":"Number","value":"NaN","path":"totalPrice","reason":{"generatedMessage":true,"code":"ERR_ASSERTION","actual":false,"expected":true,"operator":"=="},"message":"Cast to Number failed for value \"NaN\" at path \"totalPrice\"","name":"CastError"},"items.0.quantity":{"message":"Path `quantity` is required.","name":"ValidatorError","properties":{"message":"Path `quantity` is required.","type":"required","path":"quantity"},"kind":"required","path":"quantity"}},"_message":"Shopping-Cart validation failed","stack":"ValidationError: Shopping-Cart validation failed: items.0.itemTotalPrice: Cast to Number failed for value \"NaN\" at path \"itemTotalPrice\", totalPrice: Cast to Number failed for value \"NaN\" at path \"totalPrice\", items.0.quantity: Path `quantity` is required.\n    at new ValidationError (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/mongoose/lib/error/validation.js:31:11)\n    at model.Document.invalidate (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/mongoose/lib/document.js:2563:32)\n    at EmbeddedDocument.invalidate (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/mongoose/lib/types/embedded.js:291:29)\n    at EmbeddedDocument.$set (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/mongoose/lib/document.js:1238:12)\n    at EmbeddedDocument._handleIndex (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/mongoose/lib/document.js:978:14)\n    at EmbeddedDocument.$set (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/mongoose/lib/document.js:919:22)\n    at EmbeddedDocument.Document (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/mongoose/lib/document.js:136:12)\n    at EmbeddedDocument [as constructor] (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/mongoose/lib/types/embedded.js:42:12)\n    at new EmbeddedDocument (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/mongoose/lib/schema/documentarray.js:115:17)\n    at DocumentArrayPath.cast (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/mongoose/lib/schema/documentarray.js:442:22)\n    at DocumentArrayPath.SchemaType.applySetters (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/mongoose/lib/schematype.js:1031:12)\n    at model.$set (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/mongoose/lib/document.js:1202:20)\n    at model._handleIndex (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/mongoose/lib/document.js:978:14)\n    at model.$set (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/mongoose/lib/document.js:919:22)\n    at model.Document (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/mongoose/lib/document.js:136:12)\n    at model.Model (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/mongoose/lib/model.js:105:12)\n    at new model (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/mongoose/lib/model.js:4708:15)\n    at createShoppingCart (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/models/shopping-cart.js:191:24)\n    at /home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/routes/shopping-carts.js:76:22\n    at processTicksAndRejections (internal/process/task_queues.js:97:5)","name":"ValidationError","level":"error","timestamp":"2020-05-24T19:08:21.401Z"}
{"message":"Shopping-Cart validation failed: totalPrice: Path `totalPrice` (-0.45) is less than minimum allowed value (0)., items.0.quantity: Path `quantity` (-1) is less than minimum allowed value (0)., items.0.itemTotalPrice: Path `itemTotalPrice` (-0.45) is less than minimum allowed value (0.01).","errors":{"totalPrice":{"message":"Path `totalPrice` (-0.45) is less than minimum allowed value (0).","name":"ValidatorError","properties":{"message":"Path `totalPrice` (-0.45) is less than minimum allowed value (0).","type":"min","min":0,"path":"totalPrice","value":-0.45},"kind":"min","path":"totalPrice","value":-0.45},"items.0.quantity":{"message":"Path `quantity` (-1) is less than minimum allowed value (0).","name":"ValidatorError","properties":{"message":"Path `quantity` (-1) is less than minimum allowed value (0).","type":"min","min":0,"path":"quantity","value":-1},"kind":"min","path":"quantity","value":-1},"items.0.itemTotalPrice":{"message":"Path `itemTotalPrice` (-0.45) is less than minimum allowed value (0.01).","name":"ValidatorError","properties":{"message":"Path `itemTotalPrice` (-0.45) is less than minimum allowed value (0.01).","type":"min","min":0.01,"path":"itemTotalPrice","value":-0.45},"kind":"min","path":"itemTotalPrice","value":-0.45}},"_message":"Shopping-Cart validation failed","stack":"ValidationError: Shopping-Cart validation failed: totalPrice: Path `totalPrice` (-0.45) is less than minimum allowed value (0)., items.0.quantity: Path `quantity` (-1) is less than minimum allowed value (0)., items.0.itemTotalPrice: Path `itemTotalPrice` (-0.45) is less than minimum allowed value (0.01).\n    at new ValidationError (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/mongoose/lib/error/validation.js:31:11)\n    at model.Document.invalidate (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/mongoose/lib/document.js:2563:32)\n    at /home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/mongoose/lib/document.js:2385:17\n    at /home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/mongoose/lib/schematype.js:1181:9\n    at processTicksAndRejections (internal/process/task_queues.js:79:11)","name":"ValidationError","level":"error","timestamp":"2020-05-24T19:08:56.435Z"}
{"message":"Cannot set headers after they are sent to the client","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at ServerResponse.setHeader (_http_outgoing.js:526:11)\n    at ServerResponse.header (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/express/lib/response.js:771:10)\n    at ServerResponse.send (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/express/lib/response.js:170:12)\n    at module.exports (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/middleware/auth.js:13:21)\n    at newFn (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/express/lib/router/layer.js:95:5)\n    at /home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/express/lib/router/index.js:281:22\n    at param (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/express/lib/router/index.js:354:14)\n    at param (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/express/lib/router/index.js:365:14)\n    at Function.process_params (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/express/lib/router/index.js:410:3)\n    at next (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/express/lib/router/index.js:317:13)\n    at /home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/express/lib/router/index.js:335:12)","code":"ERR_HTTP_HEADERS_SENT","level":"error","timestamp":"2020-05-24T19:18:54.657Z"}
{"message":"Cannot set headers after they are sent to the client","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at ServerResponse.setHeader (_http_outgoing.js:526:11)\n    at ServerResponse.header (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/express/lib/response.js:771:10)\n    at ServerResponse.send (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/express/lib/response.js:170:12)\n    at module.exports (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/middleware/auth.js:13:21)\n    at newFn (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/express/lib/router/layer.js:95:5)\n    at /home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/express/lib/router/index.js:281:22\n    at param (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/express/lib/router/index.js:354:14)\n    at param (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/express/lib/router/index.js:365:14)\n    at Function.process_params (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/express/lib/router/index.js:410:3)\n    at next (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/express/lib/router/index.js:317:13)\n    at /home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/express/lib/router/index.js:335:12)","code":"ERR_HTTP_HEADERS_SENT","level":"error","timestamp":"2020-05-24T19:19:32.538Z"}
{"message":"Cannot set headers after they are sent to the client","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at ServerResponse.setHeader (_http_outgoing.js:526:11)\n    at ServerResponse.header (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/express/lib/response.js:771:10)\n    at ServerResponse.send (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/express/lib/response.js:170:12)\n    at module.exports (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/middleware/auth.js:13:21)\n    at newFn (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/express/lib/router/layer.js:95:5)\n    at /home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/express/lib/router/index.js:281:22\n    at param (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/express/lib/router/index.js:354:14)\n    at param (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/express/lib/router/index.js:365:14)\n    at Function.process_params (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/express/lib/router/index.js:410:3)\n    at next (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/express/lib/router/index.js:317:13)\n    at /home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/express/lib/router/index.js:335:12)","code":"ERR_HTTP_HEADERS_SENT","level":"error","timestamp":"2020-05-24T19:19:57.557Z"}
{"message":"Cannot set headers after they are sent to the client","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at ServerResponse.setHeader (_http_outgoing.js:526:11)\n    at ServerResponse.header (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/express/lib/response.js:771:10)\n    at ServerResponse.send (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/express/lib/response.js:170:12)\n    at module.exports (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/middleware/auth.js:13:21)\n    at newFn (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/express/lib/router/layer.js:95:5)\n    at /home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/express/lib/router/index.js:281:22\n    at param (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/express/lib/router/index.js:354:14)\n    at param (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/express/lib/router/index.js:365:14)\n    at Function.process_params (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/express/lib/router/index.js:410:3)\n    at next (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/express/lib/router/index.js:317:13)\n    at /home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/express/lib/router/index.js:335:12)","code":"ERR_HTTP_HEADERS_SENT","level":"error","timestamp":"2020-05-24T19:21:43.214Z"}
{"message":"Cannot set headers after they are sent to the client","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at ServerResponse.setHeader (_http_outgoing.js:526:11)\n    at ServerResponse.header (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/express/lib/response.js:771:10)\n    at ServerResponse.send (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/express/lib/response.js:170:12)\n    at /home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/routes/shopping-carts.js:111:21\n    at processTicksAndRejections (internal/process/task_queues.js:97:5)","code":"ERR_HTTP_HEADERS_SENT","level":"error","timestamp":"2020-05-24T19:22:08.739Z"}
{"message":"Cannot set headers after they are sent to the client","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at ServerResponse.setHeader (_http_outgoing.js:526:11)\n    at ServerResponse.header (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/express/lib/response.js:771:10)\n    at ServerResponse.send (/home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/node_modules/express/lib/response.js:170:12)\n    at /home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/routes/shopping-carts.js:111:21\n    at processTicksAndRejections (internal/process/task_queues.js:97:5)","code":"ERR_HTTP_HEADERS_SENT","level":"error","timestamp":"2020-05-24T19:22:54.921Z"}
{"message":"Cannot read property '_id' of null","stack":"TypeError: Cannot read property '_id' of null\n    at /home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/routes/shopping-carts.js:114:55\n    at CoreDocumentArray.find (<anonymous>)\n    at /home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/routes/shopping-carts.js:113:46\n    at processTicksAndRejections (internal/process/task_queues.js:97:5)","level":"error","timestamp":"2020-05-24T19:23:12.279Z"}
{"message":"shoppingCart.select is not a function","stack":"TypeError: shoppingCart.select is not a function\n    at /home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/routes/shopping-carts.js:134:25\n    at processTicksAndRejections (internal/process/task_queues.js:97:5)","level":"error","timestamp":"2020-05-24T19:26:09.714Z"}
{"message":"user is not defined","stack":"ReferenceError: user is not defined\n    at /home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/routes/shopping-carts.js:105:6\n    at processTicksAndRejections (internal/process/task_queues.js:97:5)","level":"error","timestamp":"2020-05-24T19:27:52.578Z"}
{"message":"user is not defined","stack":"ReferenceError: user is not defined\n    at /home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/routes/shopping-carts.js:108:6\n    at processTicksAndRejections (internal/process/task_queues.js:97:5)","level":"error","timestamp":"2020-05-24T19:30:12.663Z"}
{"message":"user is not defined","stack":"ReferenceError: user is not defined\n    at /home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/routes/shopping-carts.js:108:6\n    at processTicksAndRejections (internal/process/task_queues.js:97:5)","level":"error","timestamp":"2020-05-24T19:33:51.757Z"}
{"message":"user is not defined","stack":"ReferenceError: user is not defined\n    at /home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/routes/shopping-carts.js:108:6\n    at processTicksAndRejections (internal/process/task_queues.js:97:5)","level":"error","timestamp":"2020-05-24T19:34:27.405Z"}
{"message":"user is not defined","stack":"ReferenceError: user is not defined\n    at /home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/routes/shopping-carts.js:107:6\n    at processTicksAndRejections (internal/process/task_queues.js:97:5)","level":"error","timestamp":"2020-05-24T19:34:58.497Z"}
{"message":"user is not defined","stack":"ReferenceError: user is not defined\n    at /home/asher/Desktop/MyPortfolioProjects/farm-shop-project/farm-shop-api/routes/shopping-carts.js:106:6\n    at processTicksAndRejections (internal/process/task_queues.js:97:5)","level":"error","timestamp":"2020-05-24T19:36:00.571Z"}
